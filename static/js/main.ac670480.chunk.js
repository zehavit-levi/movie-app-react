(this["webpackJsonpmovie-app-react"]=this["webpackJsonpmovie-app-react"]||[]).push([[0],{33:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(25),i=a.n(n),s=(a(32),a(33),a(8)),o=a(9),l=a.n(o),u=a(61),h=a(65),j=a(62),d=a(66),m=(a(52),a(1));var b=function(e){var t=e.actor;return Object(m.jsx)("div",{className:"card-container col-sm-6 col-md-4 col-lg-3",children:Object(m.jsxs)(d.a,{className:"actor-card align-items-center",children:[Object(m.jsx)("img",{className:"card-img-top",src:t.image,alt:""}),Object(m.jsx)("a",{href:t.imdbLink,target:"blank",children:Object(m.jsx)("h4",{className:"card-title",children:t.firstName+" "+t.lastName})}),Object(m.jsx)("h5",{children:t.age})]})})};function f(e){var t,a=e.actors;return t=(a=(a=a.filter((function(t){return(t.firstName.toLowerCase()+" "+t.lastName.toLowerCase()).includes(e.filterBy)||(t.lastName.toLowerCase()+" "+t.firstNmae.toLowerCase()).includes(e.filterBy)}))).sort((function(t,a){return t[e.sortBy]>a[e.sortBy]?1:-1}))).map((function(e,t){return Object(m.jsx)(b,{actor:e},t)})),Object(m.jsx)("div",{className:"row align-items-center",children:t})}var p=a(12),g=function e(t,a,c,r,n){var i=this;Object(p.a)(this,e),this.CalcAge=function(){var e=new Date(i.birthDate.split("-")[2],i.birthDate.split("-")[1],i.birthDate.split("-")[0]),t=Date.now()-e.getTime(),a=new Date(t);return Math.abs(a.getUTCFullYear()-1970)},"object"===typeof t?(this.firstName=t.fname,this.lastName=t.lname,this.birthDate=t.bdate,this.image=t.img,this.imdbLink=t.imdbLink,this.age=this.CalcAge()):(this.firstName=t,this.lastName=a,this.birthDate=c,this.image=r,this.imdbLink=n,this.age=this.CalcAge())};a(54);var O=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)("firstName"),i=Object(s.a)(n,2),o=i[0],d=i[1],b=Object(c.useState)(null),p=Object(s.a)(b,2),O=p[0],v=p[1];return Object(c.useEffect)((function(){l.a.get("/movie-app-react".concat("/actors.json")).then((function(e){var t=e.data.map((function(e){return new g(e)}));v(t)}))}),[]),Object(m.jsxs)(u.a,{className:"actor-page",children:[Object(m.jsxs)(h.a,{className:"row header-actor-page",children:[Object(m.jsx)("div",{className:"filter-container col-md-8 col-12",children:Object(m.jsx)(h.a.Control,{className:"actor-filter",value:a,onChange:function(e){var t=e.target.value.toLowerCase();r(t)},placeholder:"Tap your filter"})}),Object(m.jsx)("div",{className:"select-container col-md-4 col-12",children:Object(m.jsxs)(h.a.Control,{value:o,as:"select",onChange:function(e){return d(e.target.value)},children:[Object(m.jsx)("option",{value:"firstName",children:"First Name"}),Object(m.jsx)("option",{value:"lastName",children:"Last Name"}),Object(m.jsx)("option",{value:"age",children:"Age"})]})})]}),O?Object(m.jsx)(f,{actors:O,filterBy:a,sortBy:o}):Object(m.jsx)(j.a,{className:"spinner-border"})]})},v=a(63),x=a(26),N=a(64);a(58);function C(e){var t=e.movie,a=t.directors.map((function(e,t){return Object(m.jsx)(N.a.Item,{children:e},t)})),c=t.stars.map((function(e,t){return Object(m.jsx)(N.a.Item,{children:e},t)}));return Object(m.jsx)("div",{className:"c-actor",children:Object(m.jsxs)(d.a,{children:[Object(m.jsx)(d.a.Img,{variant:"top",src:t.poster}),Object(m.jsxs)(d.a.Body,{children:[Object(m.jsx)(d.a.Title,{children:t.movieName}),Object(m.jsxs)(d.a.Text,{children:["Runtime: ",t.timeout]}),a.length>0?Object(m.jsxs)(N.a,{children:["Directors: ",a]}):"",c.length>0?Object(m.jsxs)(N.a,{children:["Main stars: ",c]}):""]})]})})}a(59);var w=function(e){var t=e.placeholder,a=e.searchText,c=e.onSearchChange,r=e.results,n=e.onResultSelected;return Object(m.jsxs)("div",{className:"c-searchbox",children:[Object(m.jsx)(h.a.Control,{type:"text",placeholder:t,value:a,onChange:function(e){return c(e.target.value)}}),Object(m.jsx)(N.a,{className:"result-box",children:r.map((function(e,t){return Object(m.jsx)(N.a.Item,{action:!0,onClick:function(){return n(t)},children:e},t)}))})]})},y=function e(t,a,c,r,n){Object(p.a)(this,e),"object"===typeof t?(this.movieName=t.title,this.timeout=t.timeout,this.poster="https://image.tmdb.org/t/p/w500"+t.poster,this.directors=t.directors,this.stars=t.stars):(this.movieName=t,this.timeout=a,this.poster="https://image.tmdb.org/t/p/w500"+c,this.directors=r,this.stars=n)};function S(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),i=Object(s.a)(n,2),o=i[0],h=i[1],j=Object(c.useState)([]),d=Object(s.a)(j,2),b=d[0],f=d[1];return Object(m.jsxs)(u.a,{children:[Object(m.jsx)(w,{placeholder:"Enter movie for search...",searchText:o,onSearchChange:function(e){if(h(e),e){var t="https://api.themoviedb.org/3/search/movie?api_key=80aa9e53b86dd9697f92df8248cf222d&language=en-US&query="+e;l.a.get(t).then((function(e){f(e.data.results)}))}else f([])},results:b.map((function(e){return e.title})),onResultSelected:function(e){var t=l.a.get("https://api.themoviedb.org/3/movie/"+b[e].id+"?api_key=80aa9e53b86dd9697f92df8248cf222d&language=en-US"),c=l.a.get("https://api.themoviedb.org/3/movie/"+b[e].id+"/credits?api_key=80aa9e53b86dd9697f92df8248cf222d&language=en-US");Promise.all([t,c]).then((function(e){var t=e[1].data.crew.filter((function(e){return"Directing"===e.department})),c=e[1].data.cast.filter((function(e){return e.cast_id<=5})),n=new y(e[0].data.title,e[0].data.runtime,e[0].data.poster_path,t.map((function(e){return e.name})),c.map((function(e){return e.name})));r(a.concat(n))})),f([]),h("")}}),Object(m.jsx)(v.a,{children:a.map((function(e,t){return Object(m.jsx)(x.a,{lg:3,md:6,children:Object(m.jsx)(C,{movie:e},t)},t)}))})]})}var L=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(O,{}),Object(m.jsx)(S,{})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),r(e),n(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root")),k()}},[[60,1,2]]]);
//# sourceMappingURL=main.ac670480.chunk.js.map